:_module-type: ASSEMBLY

ifdef::context[:parent-context: {context}]
[id="configuring-the-guardrails-orchestrator-service_{context}"]
= Configuring the Guardrails Orchestrator service

The TrustyAI Guardrails Orchestrator service is a tool to invoke detections on text generation inputs and outputs, as well as standalone detections.

It is underpinned by the open-source project link:https://github.com/foundation-model-stack/fms-guardrails-orchestrator[FMS-Guardrails Orchestrator] from IBM. You can deploy the Guardrails Orchestrator service through a Custom Resource Definition (CRD) that is managed by the TrustyAI Operator.

You can use the following detectors with trustyai_fms:

* *Regex Detectors*: Pattern-based content detection for structured rule enforcement. These are the built-in detectors in the Guardrails Orchestrator service. Learn more about the link:https://github.com/trustyai-explainability/guardrails-regex-detector[guardrails-regex-detector].

* *Hugging Face Detectors*: Compatible with most Hugging Face `AutoModelForSequenceClassification` models, such as `granite-guardian-hap-38m` or `deberta-v3-base-prompt-injection-v2`. Learn more about the detector algorithms for the link:https://github.com/trustyai-explainability/guardrails-detectors[FMS Guardrails Orchestrator].

* *vLLM Detector Adapter*: Content detection compatible with Hugging Face `AutoModelForCausalLM` models, for example `ibm-granite/granite-guardian-3.1-2b`. Learn more about link:https://github.com/foundation-model-stack/vllm-detector-adapter[vllm-detector-adapter].

The following sections describe how to deploy Guardrails Orchestrator and provide example use cases:

* Deploy a Guardrails Orchestrator instance
* Monitor user-inputs to your LLM
* Configure and use the built-in detectors
* Configure and use the guardrails gateway
* Enable the OpenTelemetry exporter for metrics and tracing
* Use Hugging Face models as detectors in Guardrails Orchestrator



include::modules/deploying-the-guardrails-orchestrator-service.adoc[leveloffset=+1]
include::modules/guardrails-autoconfiguration.adoc[leveloffset=+1]
include::modules/guardrails-orchestrator-parameters.adoc[leveloffset=+1]
include::modules/guardrails-orchestrator-hap-scenario.adoc[leveloffset=+1]
include::modules/configuring-the-built-in-detector-and-guardrails-gateway.adoc[leveloffset=+1]
include::modules/sending-requests-to-the-regex-detector.adoc[leveloffset=+2]
include::modules/guardrails-orchestrator-querying-using-guardrails-gateway.adoc[leveloffset=+2]
include::modules/configuring-the-opentelemetry-exporter.adoc[leveloffset=+1]
include::modules/using-hugging-face-models-with-guardrails-orchestrator.adoc[leveloffset=+1]
include::modules/configuring-the-guardrails-detector-hugging-face-serving-runtime.adoc[leveloffset=+1]
include::modules/using-a-hugging-face-prompt-injection-detector-with-the-guardrails-orchestrator.adoc[leveloffset=+1]


ifdef::parent-context[:context: {parent-context}]
ifndef::parent-context[:!context:]
